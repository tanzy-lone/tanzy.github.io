import{b as N,o as b,c as O,f as D,ad as S,j as t,w as l,a2 as z,a3 as T,e as x,af as Q,ah as M,v as X,a7 as R,D as Y,b0 as Z,al as ee,am as te,F as le,H as ae,I as oe,G as ne,r as V,a6 as B,k,E,au as de,g as e,aq as P,b1 as j,b2 as re,A as K,b3 as ie,aS as se}from"./vender-DF28c6Qi.js";import{P as A}from"./menu-DINezsdW.js";import{_ as U,j as q,c as G,k as ce}from"./index-COOhnGZd.js";import{u as pe}from"./main-BIHNU41-.js";const ue={tableData:[{prop:"name",label:"商品名称",minWidth:"90",slotName:"name"},{prop:"oldPrice",label:"原价格",minWidth:"70",slotName:"oldPrice"},{prop:"newPrice",label:"现价格",minWidth:"70",slotName:"newPrice"},{prop:"imgUrl",label:"商品图片",minWidth:"100",slotName:"imgUrl"},{prop:"saleCount",label:"销量",minWidth:"60"},{prop:"favorCount",label:"收藏",minWidth:"60"},{prop:"address",label:"地址",minWidth:"60"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"110",slotName:"handler"}],title:"商品列表"},fe={class:"form-wrapper"},me={class:"form-header"},he={class:"footer"},_e=N({__name:"index",props:{formData:{type:Array,default:()=>[]},labelWidth:{type:String,default:"80px"},colLayout:{type:Object,default(){return{xl:6,lg:8,md:12,sm:24,xs:24}}},itemStyle:{type:Object,default:()=>({padding:"15px 20px"})},modelValue:{type:Object,default:()=>{}},title:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:m}){const o=m,r=n,s=(h,u)=>{o("update:modelValue",{...r.modelValue,[u]:h})};return(h,u)=>{const c=Y,d=Z,i=ee,g=te,f=le,y=ae,p=oe,W=ne;return b(),O("div",fe,[D("div",me,[S(h.$slots,"header",{},void 0,!0)]),t(W,{labelWidth:n.labelWidth},{default:l(()=>[t(p,null,{default:l(()=>[(b(!0),O(z,null,T(n.formData,a=>(b(),x(y,Q(M({key:a.field},n.colLayout)),{default:l(()=>[a.isHidden?R("",!0):(b(),x(f,{key:0,label:a.label,style:X(n.itemStyle)},{default:l(()=>{var v,C;return[a.type==="input"||a.type==="password"?(b(),x(c,{key:0,"model-value":n.modelValue[a.field],placeholder:a.placeholder,"show-password":a.type==="password","onUpdate:modelValue":_=>s(_,a.field)},null,8,["model-value","placeholder","show-password","onUpdate:modelValue"])):R("",!0),a.type==="picker"?(b(),x(d,{key:1,type:"daterange","model-value":n.modelValue[a.field],"onUpdate:modelValue":_=>s(_,a.field),"start-placeholder":(v=a.otherOptions)==null?void 0:v.startPlaceholder,"end-placeholder":(C=a.otherOptions)==null?void 0:C.endPlaceholder},null,8,["model-value","onUpdate:modelValue","start-placeholder","end-placeholder"])):a.type==="select"?(b(),x(g,{key:2,class:"m-2",placeholder:a.placeholder,"onUpdate:modelValue":_=>s(_,a.field),"model-value":n.modelValue[a.field]},{default:l(()=>[(b(!0),O(z,null,T(a.options,_=>(b(),x(i,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:2},1032,["placeholder","onUpdate:modelValue","model-value"])):R("",!0)]}),_:2},1032,["label","style"]))]),_:2},1040))),128))]),_:1})]),_:1},8,["labelWidth"]),D("div",he,[S(h.$slots,"footer",{},void 0,!0)])])}}}),J=U(_e,[["__scopeId","data-v-7f9dd5be"]]),ye={class:"pageModel"},be={class:"dialog-footer"},ge=N({__name:"pageModel",props:{defaultValue:{type:Object,default:()=>{}},otherOptions:{type:Object,default:()=>{}},modelConfig:{type:Object,default:()=>{},required:!0},pageName:{type:String,default:""}},setup(n,{expose:m}){const o=n,r=V(!1),s=V({}),h=pe();B(()=>o.defaultValue,c=>{for(const d of o.modelConfig.formData)s.value[`${d.field}`]=c[`${d.field}`]});const u=()=>{if(r.value=!1,Object.keys(o.defaultValue).length){const c=o.defaultValue.id;h.getEdit({id:c,pageName:o.pageName,editInfo:{...s.value,...o.otherOptions}})}else h.handleCreate({pageName:o.pageName,queryInfo:s.value})};return m({isShowModel:r}),(c,d)=>{const i=E,g=de;return b(),O("div",ye,[t(g,{title:n.modelConfig.title,modelValue:r.value,"onUpdate:modelValue":d[2]||(d[2]=f=>r.value=f),center:"",width:"30%","destroy-on-close":""},{footer:l(()=>[D("span",be,[t(i,{onClick:d[1]||(d[1]=f=>r.value=!1)},{default:l(()=>[k("取消")]),_:1}),t(i,{type:"primary",onClick:u},{default:l(()=>[k(" 确定 ")]),_:1})])]),default:l(()=>[t(J,M(n.modelConfig,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f)}),null,16,["modelValue"]),S(c.$slots,"default",{},void 0,!0)]),_:3},8,["title","modelValue"])])}}}),I=U(ge,[["__scopeId","data-v-16770d37"]]),ve={class:"page-header"},Ce=N({__name:"index",props:{formDataConfig:{type:Object,default:()=>{}}},emits:["updateFormData"],setup(n,{expose:m,emit:o}){var d;const r=n,s=o,h=((d=r.formDataConfig)==null?void 0:d.formData)??[],u=V({});for(let i of h)u.value[i.field]="";const c=V(u.value);return B(c,i=>{s("updateFormData",i)}),m({formData:c,originFormData:u}),(i,g)=>(b(),O("div",ve,[t(J,M(n.formDataConfig,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=f=>c.value=f)}),{header:l(()=>[S(i.$slots,"header",{},void 0,!0)]),footer:l(()=>[S(i.$slots,"footer",{},void 0,!0)]),_:3},16,["modelValue"])]))}}),F=U(Ce,[["__scopeId","data-v-3bb63e17"]]);function H(n,m){const o=V();let r=V({});return{modelRef:o,defaultValue:r,handleCreate:()=>{r.value={},o.value&&(o.value.isShowModel=!0),n&&n()},handleEdit:u=>{o.value&&(o.value.isShowModel=!0),r.value={...u},m&&m(u)}}}const ke={formData:[{field:"name",type:"input",label:"商品名称",placeholder:"请输入商品名称"},{field:"oldPrice",label:"原价格",placeholder:"请输入商品原价格",type:"input"},{field:"newPrice",label:"现价格",placeholder:"请输入商品现价格",type:"input"},{field:"imgUrl",label:"商品图片",placeholder:"请输入商品图片",type:"input"},{field:"saleCount",label:"销量",placeholder:"请输入商品销量",type:"input"},{field:"favorCount",label:"收藏",placeholder:"请输入商品收藏数量",type:"input"},{field:"address",label:"地址",placeholder:"请输入发货地址",type:"input"}],colLayout:{span:24},title:"新建商品",itemStyle:{padding:"5px 0"}},De={formData:[{label:"name",field:"name",placeholder:"请填写商品名称",type:"input"},{label:"原价格",field:"oldPrice",placeholder:"请填写商品原价格",type:"input"},{label:"现价格",field:"newPrice",placeholder:"请填写商品现价格",type:"input"},{label:"创建",field:"createAt",type:"picker",otherOptions:{type:"daterange",startPlaceholder:"商品上架时间",endPlaceholder:"商品下架时间"}}],labelWidth:"90px",itemStyle:{padding:"12px 14px"},title:"搜索角色"},Ve={class:"goods"},$e=D("h1",null,"高级检索",-1),Oe={class:"footer"},we={class:"header-handler"},xe=N({__name:"goods",setup(n){const{modelRef:m,defaultValue:o,handleCreate:r,handleEdit:s}=H(),{contentRef:h,headerRef:u,handleSearch:c,handleReset:d}=q(),i=V({}),g=f=>{i.value=f};return(f,y)=>{const p=E,W=re;return b(),O("div",Ve,[t(F,{"form-data-config":e(De),ref_key:"headerRef",ref:u,onUpdateFormData:g},{header:l(()=>[$e]),footer:l(()=>[D("div",Oe,[t(p,{icon:e(P),type:"info",onClick:e(d)},{default:l(()=>[k("重置")]),_:1},8,["icon","onClick"]),t(p,{icon:e(j),type:"primary",onClick:y[0]||(y[0]=a=>e(c)(i.value))},{default:l(()=>[k("搜索")]),_:1},8,["icon"])])]),_:1},8,["form-data-config"]),t(A,{"page-name":"goods","content-data-config":e(ue),onClickEdit:e(s),ref_key:"contentRef",ref:h},{headerHandler:l(()=>[D("div",we,[t(p,{type:"primary",onClick:e(r)},{default:l(()=>[k("新建商品")]),_:1},8,["onClick"]),t(p,{icon:e(P)},null,8,["icon"])])]),imgUrl:l(a=>[t(W,{style:{width:"60px",height:"60px"},src:a.row.imgUrl,fit:"cover","preview-src-list":[a.row.imgUrl],"preview-teleported":"",lazy:"","close-on-press-escape":""},null,8,["src","preview-src-list"])]),_:1},8,["content-data-config","onClickEdit"]),t(I,{ref_key:"modelRef",ref:m,"page-name":"goods","model-config":e(ke),"default-value":e(o)},null,8,["model-config","default-value"])])}}}),qe=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"})),Pe={formData:[{label:"name",field:"name",placeholder:"请填写角色名称",type:"input"},{label:"权限介绍",field:"intro",placeholder:"请填写权限介绍",type:"input"},{label:"创建",field:"createAt",type:"picker",otherOptions:{type:"daterange",startPlaceholder:"开始时间",endPlaceholder:"结束时间"}}],labelWidth:"90px",itemStyle:{padding:"12px 14px"},title:"搜索角色"},Ne={tableData:[{prop:"name",label:"角色名",minWidth:"100",slotName:"name"},{prop:"intro",label:"权限介绍",minWidth:"100",slotName:"intro"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],title:"角色列表"},We={formData:[{field:"name",label:"角色名",type:"input",placeholder:"请输入角色名"},{field:"intro",label:"角色介绍",type:"input",placeholder:"请输入角色介绍"}],colLayout:{span:24},title:"新建角色",itemStyle:{padding:"5px 0"}},Se={class:"role"},Ee={class:"footer"},Re={class:"header-handler"},Me=N({__name:"role",setup(n){const m=V(),o=f=>{const y=ce(f.menuList);se(()=>{var p;y&&((p=m.value)==null||p.setCheckedKeys(y,!0))})},{modelRef:r,defaultValue:s,handleCreate:h,handleEdit:u}=H(void 0,o),c=G(),d=K(()=>c.entireMenu),i=V({}),g=(f,y)=>{const p=[...y.checkedKeys,...y.halfCheckedKeys];i.value={menuList:p}};return(f,y)=>{const p=E;return b(),O("div",Se,[t(F,{"form-data-config":e(Pe)},{footer:l(()=>[D("div",Ee,[t(p,{icon:e(P),type:"info"},{default:l(()=>[k("重置")]),_:1},8,["icon"]),t(p,{icon:e(j),type:"primary"},{default:l(()=>[k("搜索")]),_:1},8,["icon"])])]),_:1},8,["form-data-config"]),t(A,{"page-name":"role","content-data-config":e(Ne),onClickEdit:e(u)},{headerHandler:l(()=>[D("div",Re,[t(p,{type:"primary",onClick:e(h)},{default:l(()=>[k("新建角色")]),_:1},8,["onClick"]),t(p,{icon:e(P)},null,8,["icon"])])]),_:1},8,["content-data-config","onClickEdit"]),t(I,{ref_key:"modelRef",ref:r,"page-name":"role","model-config":e(We),"default-value":e(s),otherOptions:i.value},{default:l(()=>[t(e(ie),{ref_key:"treeRef",ref:m,data:d.value,"show-checkbox":"","node-key":"id","highlight-current":"",props:{children:"children",label:"name"},onCheck:g},null,8,["data"])]),_:1},8,["model-config","default-value","otherOptions"])])}}}),Ge=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),je={tableData:[{prop:"name",label:"用户名",minWidth:"100",slotName:"name"},{prop:"realname",label:"真实姓名",minWidth:"100",slotName:"realname"},{prop:"cellphone",label:"手机号码",minWidth:"150",slotName:"cellphone"},{prop:"enable",label:"状态",minWidth:"80",slotName:"enable"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],title:"用户列表"},Ae={formData:[{label:"id",field:"id",placeholder:"请填写id",type:"input"},{label:"用户名",field:"name",placeholder:"请填写姓名",type:"input"},{label:"真实姓名",field:"realname",placeholder:"请填写真实姓名",type:"input"},{label:"电话号码",field:"cellphone",placeholder:"请填写电话号码",type:"input"},{label:"用户的状态",field:"enable",placeholder:"Please select your state!",type:"select",options:[{value:"0",label:"启用"},{value:"1",label:"禁用"}]},{label:"创建",field:"createAt",type:"picker",otherOptions:{type:"daterange",startPlaceholder:"开始时间",endPlaceholder:"结束时间"}}],labelWidth:"90px",itemStyle:{padding:"12px 14px"},title:"高级检索"},w={formData:[{field:"name",label:"用户名",type:"input",placeholder:"请输入姓名"},{field:"realname",label:"真实姓名",type:"input",placeholder:"请输入真实姓名"},{field:"password",label:"用户密码",type:"password",placeholder:"请输入密码",isHidden:!0},{field:"cellphone",label:"电话号码",type:"input",placeholder:"请输入电话号码"},{field:"departmentId",label:"选择部门",type:"select",placeholder:"Please select your department",options:[]},{field:"roleId",label:"选择角色",type:"select",placeholder:"Please select your role",options:[]}],colLayout:{span:24},title:"新建用户",itemStyle:{padding:"5px 0"}},Ue={class:"user"},Ie=D("h1",null,"高级检索",-1),Fe={class:"footer"},He={class:"header-handler"},Le=N({__name:"user",setup(n){const m=V({}),o=()=>{const v=w.formData.find(C=>C.field==="password");v.isHidden=!1,w.title="创建用户"},r=()=>{const v=w.formData.find(C=>C.field==="password");v.isHidden=!0,w.title="编辑用户"},{contentRef:s,headerRef:h,handleSearch:u,handleReset:c}=q(),{modelRef:d,defaultValue:i,handleCreate:g,handleEdit:f}=H(o,r),y=G(),p=v=>{m.value=v},W=()=>{const v=y.entireRole,C=y.entireDepartment,_=w.formData.find($=>$.field==="departmentId"),L=w.formData.find($=>$.field==="roleId");return L.options=v.map($=>({value:$.id,label:$.name})),_.options=C.map($=>({value:$.id,label:$.name})),w},a=K(()=>W());return(v,C)=>{const _=E;return b(),O("div",Ue,[t(F,{"form-data-config":e(Ae),onUpdateFormData:p,ref_key:"headerRef",ref:h},{header:l(()=>[Ie]),footer:l(()=>[D("div",Fe,[t(_,{icon:e(P),type:"info",onClick:e(c)},{default:l(()=>[k("重置")]),_:1},8,["icon","onClick"]),t(_,{icon:e(j),type:"primary",onClick:C[0]||(C[0]=L=>e(u)(m.value))},{default:l(()=>[k("搜索")]),_:1},8,["icon"])])]),_:1},8,["form-data-config"]),t(A,{"page-name":"users","content-data-config":e(je),ref_key:"contentRef",ref:s,onClickEdit:e(f)},{headerHandler:l(()=>[D("div",He,[t(_,{type:"primary",onClick:e(g)},{default:l(()=>[k("新建用户")]),_:1},8,["onClick"]),t(_,{icon:e(P)},null,8,["icon"])])]),_:1},8,["content-data-config","onClickEdit"]),t(I,{ref_key:"modelRef",ref:d,pageName:"users","default-value":e(i),"model-config":a.value},null,8,["default-value","model-config"])])}}}),Je=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"}));export{qe as g,Ge as r,Je as u};
