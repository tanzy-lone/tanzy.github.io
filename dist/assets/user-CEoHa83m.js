import{d as x,a as W,Y as w,n as E,o as M,c as O,e as l,w as i,b as p,u as e,aR as f,g as d,b5 as A}from"./index-DmzJr1-1.js";import{E as H}from"./el-button-CEX87WTU.js";import{u as B,P as I,a as S}from"./useModelMethods-Cccy62to.js";import{P as V}from"./pageContent-BO4mB_14.js";import{u as F}from"./usePageMethod-BNzuiJBR.js";import"./index-Cd7gHtLX.js";import"./use-form-item-BOYaIwNN.js";import"./el-dialog-DFDWWBEw.js";import"./el-overlay-DhkSsWGI.js";import"./event-eEICS_iS.js";import"./scroll-DTyey6zG.js";import"./focus-trap-llSw04aK.js";import"./main-Bih8cQrn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./el-form-item-DbUVfqXl.js";import"./_baseClone-DgzLKTo2.js";import"./_initCloneObject-Ddjie6eN.js";import"./el-col-CvVoT5To.js";import"./el-input-CYOnwvJJ.js";import"./el-table-column-ChhzDpu4.js";import"./el-scrollbar-DEdRnlI4.js";import"./el-popper-B0eLM0yi.js";import"./el-checkbox-BR_JhJCg.js";import"./isEqual-BzJdjhAa.js";import"./debounce-D5ZTmkzz.js";import"./formatTime-BibJyQeR.js";import"./index-C84qnZdK.js";import"./strings-VysabZVY.js";import"./xlsx-BTnDBwo2.js";const G={tableData:[{prop:"name",label:"用户名",minWidth:"100",slotName:"name"},{prop:"realname",label:"真实姓名",minWidth:"100",slotName:"realname"},{prop:"cellphone",label:"手机号码",minWidth:"150",slotName:"cellphone"},{prop:"enable",label:"状态",minWidth:"80",slotName:"enable"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],title:"用户列表"},L={formData:[{label:"id",field:"id",placeholder:"请填写id",type:"input"},{label:"用户名",field:"name",placeholder:"请填写姓名",type:"input"},{label:"真实姓名",field:"realname",placeholder:"请填写真实姓名",type:"input"},{label:"电话号码",field:"cellphone",placeholder:"请填写电话号码",type:"input"},{label:"用户的状态",field:"enable",placeholder:"Please select your state!",type:"select",options:[{value:"0",label:"启用"},{value:"1",label:"禁用"}]},{label:"创建",field:"createAt",type:"picker",otherOptions:{type:"daterange",startPlaceholder:"开始时间",endPlaceholder:"结束时间"}}],labelWidth:"90px",itemStyle:{padding:"12px 14px"},title:"高级检索"},n={formData:[{field:"name",label:"用户名",type:"input",placeholder:"请输入姓名"},{field:"realname",label:"真实姓名",type:"input",placeholder:"请输入真实姓名"},{field:"password",label:"用户密码",type:"password",placeholder:"请输入密码",isHidden:!0},{field:"cellphone",label:"电话号码",type:"input",placeholder:"请输入电话号码"},{field:"departmentId",label:"选择部门",type:"select",placeholder:"Please select your department",options:[]},{field:"roleId",label:"选择角色",type:"select",placeholder:"Please select your role",options:[]}],colLayout:{span:24},title:"新建用户",itemStyle:{padding:"5px 0"}},T={class:"user"},U=p("h1",null,"高级检索",-1),Y={class:"footer"},$={class:"header-handler"},ke=x({__name:"user",setup(j){const s=W({}),u=()=>{const a=n.formData.find(o=>o.field==="password");a.isHidden=!1,n.title="创建用户"},h=()=>{const a=n.formData.find(o=>o.field==="password");a.isHidden=!0,n.title="编辑用户"},{contentRef:b,headerRef:y,handleSearch:_,handleReset:g}=F(),{modelRef:C,defaultValue:D,handleCreate:k,handleEdit:v}=B(u,h),m=w(),N=a=>{s.value=a},P=()=>{const a=m.entireRole,o=m.entireDepartment,r=n.formData.find(t=>t.field==="departmentId"),c=n.formData.find(t=>t.field==="roleId");return c.options=a.map(t=>({value:t.id,label:t.name})),r.options=o.map(t=>({value:t.id,label:t.name})),n},R=E(()=>P());return(a,o)=>{const r=H;return M(),O("div",T,[l(I,{"form-data-config":e(L),onUpdateFormData:N,ref_key:"headerRef",ref:y},{header:i(()=>[U]),footer:i(()=>[p("div",Y,[l(r,{icon:e(f),type:"info",onClick:e(g)},{default:i(()=>[d("重置")]),_:1},8,["icon","onClick"]),l(r,{icon:e(A),type:"primary",onClick:o[0]||(o[0]=c=>e(_)(s.value))},{default:i(()=>[d("搜索")]),_:1},8,["icon"])])]),_:1},8,["form-data-config"]),l(V,{"page-name":"users","content-data-config":e(G),ref_key:"contentRef",ref:b,onClickEdit:e(v)},{headerHandler:i(()=>[p("div",$,[l(r,{type:"primary",onClick:e(k)},{default:i(()=>[d("新建用户")]),_:1},8,["onClick"]),l(r,{icon:e(f)},null,8,["icon"])])]),_:1},8,["content-data-config","onClickEdit"]),l(S,{ref_key:"modelRef",ref:C,pageName:"users","default-value":e(D),"model-config":R.value},null,8,["default-value","model-config"])])}}});export{ke as default};
