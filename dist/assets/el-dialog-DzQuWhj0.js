import{av as W,Q as J,aJ as G,a4 as Q,t as q,d as R,s as _,aa as K,n as L,o as $,c as N,b as A,B as y,A as v,u as e,C as Z,e as I,w as b,v as H,R as x,E as ee,D as U,U as O,_ as j,cp as oe,m as se,q as te,a as z,a5 as ae,x as le,y as ne,aH as re,G as ie,T as de,H as ce,I as ue}from"./index-eqQw-y8p.js";import{e as fe,g as me,d as ve,a as pe,u as ge,E as he,c as be}from"./el-overlay-D9suDRBK.js";import{F as ye,E as Ce}from"./focus-trap-G_r8J7TP.js";import{u as Ee}from"./index-DiD2j48Z.js";const we=(...l)=>t=>{l.forEach(n=>{W(n)?n(t):n.value=t})},$e=(l,t,n,C)=>{let d={offsetX:0,offsetY:0};const f=m=>{const E=m.clientX,w=m.clientY,{offsetX:p,offsetY:g}=d,c=l.value.getBoundingClientRect(),a=c.left,h=c.top,D=c.width,F=c.height,T=document.documentElement.clientWidth,S=document.documentElement.clientHeight,B=-a+p,Y=-h+g,P=T-a-D+p,X=S-h-F+g,u=o=>{let r=p+o.clientX-E,i=g+o.clientY-w;C!=null&&C.value||(r=Math.min(Math.max(r,B),P),i=Math.min(Math.max(i,Y),X)),d={offsetX:r,offsetY:i},l.value&&(l.value.style.transform=`translate(${q(r)}, ${q(i)})`)},M=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",M)},k=()=>{t.value&&l.value&&t.value.addEventListener("mousedown",f)},s=()=>{t.value&&l.value&&t.value.removeEventListener("mousedown",f)};J(()=>{G(()=>{n.value?k():s()})}),Q(()=>{s()})},V=Symbol("dialogInjectionKey"),ke=["aria-level"],Le=["aria-label"],De=["id"],Te=R({name:"ElDialogContent"}),Me=R({...Te,props:fe,emits:me,setup(l){const t=l,{t:n}=_(),{Close:C}=oe,{dialogRef:d,headerRef:f,bodyId:k,ns:s,style:m}=K(V),{focusTrapRef:E}=K(ye),w=L(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),p=we(E,d),g=L(()=>t.draggable),c=L(()=>t.overflow);return $e(d,f,g,c),(a,h)=>($(),N("div",{ref:e(p),class:v(e(w)),style:O(e(m)),tabindex:"-1"},[A("header",{ref_key:"headerRef",ref:f,class:v([e(s).e("header"),{"show-close":a.showClose}])},[y(a.$slots,"header",{},()=>[A("span",{role:"heading","aria-level":a.ariaLevel,class:v(e(s).e("title"))},Z(a.title),11,ke)]),a.showClose?($(),N("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:v(e(s).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=D=>a.$emit("close"))},[I(e(ee),{class:v(e(s).e("close"))},{default:b(()=>[($(),H(x(a.closeIcon||e(C))))]),_:1},8,["class"])],10,Le)):U("v-if",!0)],2),A("div",{id:e(k),class:v(e(s).e("body"))},[y(a.$slots,"default")],10,De),a.$slots.footer?($(),N("footer",{key:0,class:v(e(s).e("footer"))},[y(a.$slots,"footer")],2)):U("v-if",!0)],6))}});var Ae=j(Me,[["__file","dialog-content.vue"]]);const Ie=["aria-label","aria-labelledby","aria-describedby"],Re=R({name:"ElDialog",inheritAttrs:!1}),Fe=R({...Re,props:ve,emits:pe,setup(l,{expose:t}){const n=l,C=se();Ee({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!C.title));const d=te("dialog"),f=z(),k=z(),s=z(),{visible:m,titleId:E,bodyId:w,style:p,overlayDialogStyle:g,rendered:c,zIndex:a,afterEnter:h,afterLeave:D,beforeLeave:F,handleClose:T,onModalClick:S,onOpenAutoFocus:B,onCloseAutoFocus:Y,onCloseRequested:P,onFocusoutPrevented:X}=ge(n,f);ae(V,{dialogRef:f,headerRef:k,bodyId:w,ns:d,rendered:c,style:p});const u=be(S),M=L(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:s}),(o,r)=>($(),H(ce,{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},[I(de,{name:"dialog-fade",onAfterEnter:e(h),onAfterLeave:e(D),onBeforeLeave:e(F),persisted:""},{default:b(()=>[le(I(e(he),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(a)},{default:b(()=>[A("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(w),class:v(`${e(d).namespace.value}-overlay-dialog`),style:O(e(g)),onClick:r[0]||(r[0]=(...i)=>e(u).onClick&&e(u).onClick(...i)),onMousedown:r[1]||(r[1]=(...i)=>e(u).onMousedown&&e(u).onMousedown(...i)),onMouseup:r[2]||(r[2]=(...i)=>e(u).onMouseup&&e(u).onMouseup(...i))},[I(e(Ce),{loop:"",trapped:e(m),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(X),onReleaseRequested:e(P)},{default:b(()=>[e(c)?($(),H(Ae,ne({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(T)}),re({header:b(()=>[o.$slots.title?y(o.$slots,"title",{key:1}):y(o.$slots,"header",{key:0,close:e(T),titleId:e(E),titleClass:e(d).e("title")})]),default:b(()=>[y(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:b(()=>[y(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):U("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ie)]),_:3},8,["mask","overlay-class","z-index"]),[[ie,e(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Se=j(Fe,[["__file","dialog.vue"]]);const Ne=ue(Se);export{Ne as E,we as c,$e as u};
